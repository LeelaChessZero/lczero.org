{{ $mainCss := resources.Get "css/main.css" }}
{{ $syntaxCss := resources.Get "css/syntax.css" }}
{{ $blogCss := resources.Get "css/blog.css" }}
{{ $iconsCss := resources.Get "css/icons.css" }}
{{ $css := slice $mainCss $syntaxCss $blogCss $iconsCss | resources.Concat "css/bundle.css" }}

{{- with $css }}
  {{- if hugo.IsDevelopment }}
    <link rel="stylesheet" href="{{ .RelPermalink }}">
  {{- else }}
    {{- with . | minify | fingerprint }}
      <link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}" crossorigin="anonymous">
    {{- end }}
  {{- end }}
{{- end }}


{{/* Additional required CSS */}}

{{ $requiredCSS := .Page.Scratch.Get "requiredCSS" }}
  {{ range $file := $requiredCSS }}
    {{ with resources.Get (printf "css/additional/%s" $file) }}
      {{ if hugo.IsDevelopment }}
        <link rel="stylesheet" href="{{ .RelPermalink }}">
      {{ else }}
        {{ with . | minify | fingerprint }}
        <link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}" crossorigin="anonymous">
      {{ end }}
    {{ end }}
  {{ end }}
{{ end }}