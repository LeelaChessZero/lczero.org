{{ $emojis := dict
  "caution" ":exclamation:"
  "important" ":bangbang:"
  "note" ":information_source:"
  "tip" ":bulb:"
  "warning" ":rotating_light:" 
}}

{{ if eq .Type "alert" }}
  {{ if eq .AlertSign "-" }}
    <!-- Collapsible Blockquote -->
    <details class="alert alert-{{ .AlertType }}">
      <summary>
        {{ transform.Emojify (index $emojis .AlertType) }} 
        {{ .AlertTitle | default (title .AlertType) }}
      </summary>
      {{ .Text | safeHTML }}
    </details>
  {{ else if eq .AlertSign "+" }}
    <!-- Expandable Blockquote -->
    <details open class="alert alert-{{ .AlertType }}">
      <summary>
        {{ transform.Emojify (index $emojis .AlertType) }} 
        {{ .AlertTitle | default (title .AlertType) }}
      </summary>
      {{ .Text }}
    </details>
  {{ else }}
    <!-- Regular Blockquote -->
    <blockquote class="alert alert-{{ .AlertType }}">
      <p>
        {{ transform.Emojify (index $emojis .AlertType) }} 
        {{ .AlertTitle | default (title .AlertType) }}
      </p>
      {{ .Text }}
    </blockquote>
  {{ end }}
{{ else }}
  <!-- Fallback for non-alert blockquotes -->
  <blockquote>
    {{ .Text }}
  </blockquote>
{{ end }}